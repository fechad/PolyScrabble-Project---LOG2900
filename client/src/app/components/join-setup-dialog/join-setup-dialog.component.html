<mat-card-header>
    <mat-toolbar class="toolbar">
        <mat-card-title>Paramètres de la partie multijoueur</mat-card-title>
        <mat-icon class="icon-cancel" (click)="closeDialog()">cancel</mat-icon>
    </mat-toolbar>
</mat-card-header>

<mat-card-content>
    <div class="container">
        <form [formGroup]="joiningRoomForm" (submit)="submit()">
            <div class="form-group">
                <div class="row">
                    <div class="avatar-input">
                        <button class="left-arrow" type="button" (click)="this.avatarSelectionService.chooseIcon(false)">
                            <fa-icon [icon]="this.avatarSelectionService.faAngleLeft" size="2x"></fa-icon>
                        </button>
                        <img [src]="this.avatarSelectionService.imgChosen" /><img />
                        <button class="right-arrow" type="button" (click)="this.avatarSelectionService.chooseIcon(true)">
                            <fa-icon [icon]="this.avatarSelectionService.faAngleRight" size="2x"></fa-icon>
                        </button>
                    </div>
                <div class="input-area">
                    <div class="col-md-10">
                        <label>Votre nom: </label>
                        <input cdkFocusInitial type="text" formControlName="secondPlayerName" class="form-control" />
                    </div>

                    <div class="requirement" *ngIf="joiningRoomForm.value.secondPlayerName === data.name">
                        Votre nom ne doit pas être identique à votre adversaire
                    </div>
                    <div
                        class="requirement"
                        *ngIf="joiningRoomForm.controls['secondPlayerName'].errors && joiningRoomForm.value.secondPlayerName !== ''"
                    >
                        Rentrez un nom contenant seulement des lettres.
                    </div>
                    <div class="col-md-10">
                        <label>Nom de l'adversaire: {{ data.name }}</label>
                    </div>
                    <div class="col-md-10">
                        <label>Temps limite: {{ data.timer }} secondes </label>
                    </div>
                    <div class="col-md-10">
                        <label>Choix du dictionnaire: {{ data.dictionnary }}</label>
                    </div>
                </div>
            </div>
            </div>
            <div class="row-end">
                <button
                    [disabled]="joiningRoomForm.value.secondPlayerName === data.name || joiningRoomForm.controls['secondPlayerName'].errors"
                    type="submit"
                    class="btn success"
                >
                    Jouer!
                </button>
            </div>
        </form>
    </div>
</mat-card-content>
